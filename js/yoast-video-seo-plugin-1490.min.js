!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=13)}([function(e,t,n){e.exports=n(11)()},function(e,t){e.exports=window.wp.i18n},function(e,t){e.exports=window.wp.data},function(e,t,n){"use strict";const o="yoast_wpseo_videositemap-";class i{static prefixElementId(e){return o+e}static get disableElement(){return document.getElementById(this.prefixElementId("disable"))}static get thumbnailElement(){return document.getElementById(this.prefixElementId("thumbnail"))}static get durationElement(){return document.getElementById(this.prefixElementId("duration"))}static get tagsElement(){return document.getElementById(this.prefixElementId("tags"))}static get ratingElement(){return document.getElementById(this.prefixElementId("rating"))}static get notFamilyFriendlyElement(){return document.getElementById(this.prefixElementId("not-family-friendly"))}static get disable(){return i.disableElement&&i.disableElement.value||""}static set disable(e){i.disableElement.value=e}static get thumbnail(){return i.thumbnailElement&&i.thumbnailElement.value||""}static set thumbnail(e){i.thumbnailElement.value=e}static get duration(){return i.durationElement&&parseInt(i.durationElement.value,10)||0}static set duration(e){i.durationElement.value=e}static get tags(){const e=i.tagsElement&&i.tagsElement.value;return e?e.split(","):[]}static set tags(e){i.tagsElement.value=e.join(",")}static get rating(){return i.ratingElement&&i.ratingElement.value||""}static set rating(e){i.ratingElement.value=e}static get notFamilyFriendly(){return i.notFamilyFriendlyElement&&"on"===i.notFamilyFriendlyElement.value||!1}static set notFamilyFriendly(e){i.notFamilyFriendlyElement.value=e?"on":"off"}}n.d(t,"c",function(){return r}),n.d(t,"d",function(){return a}),n.d(t,"g",function(){return s}),n.d(t,"f",function(){return l}),n.d(t,"a",function(){return d}),n.d(t,"e",function(){return u}),n.d(t,"b",function(){return c}),n.d(t,"j",function(){return m}),n.d(t,"k",function(){return p}),n.d(t,"n",function(){return y}),n.d(t,"m",function(){return f}),n.d(t,"h",function(){return g}),n.d(t,"l",function(){return b}),n.d(t,"i",function(){return E});const r="VIDEO_LOAD_EDITOR_DATA",a="VIDEO_SET_DURATION",s="VIDEO_SET_NOT_FAMILY_FRIENDLY",l="VIDEO_SET_THUMBNAIL",d="VIDEO_CLEAR_THUMBNAIL",u="VIDEO_SET_TAGS",c="VIDEO_DISMISS_ALERT";function m(){return{type:r,duration:i.duration,notFamilyFriendly:i.notFamilyFriendly,thumbnail:i.thumbnail,videoTagsArray:i.tags,reactAlertIsDismissed:wpseoVideoL10n.react_alert_is_dismissed}}function p(e){return i.duration=e,{type:a,value:e}}function y(){return i.notFamilyFriendly=!i.notFamilyFriendly,{type:s}}function f(e){return i.thumbnail=e,{type:l,thumbnailUrl:e}}function g(){return i.thumbnail="",{type:d}}function b(e){return i.tags=e,{type:u,videoTagsArray:e}}function E(){return{type:c}}},function(e,t){e.exports=yoast.componentsNew},function(e,t){e.exports=window.wp.element},function(e,t){e.exports=lodash},function(e,t){e.exports=window.wp.components},function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return r});var o=n(3);const i={isLoaded:!1,notFamilyFriendly:!1,duration:0,thumbnail:"",reactAlertIsDismissed:!0};function r(e=i,t){switch(t.type){case o.c:return{...e,duration:t.duration,notFamilyFriendly:t.notFamilyFriendly,thumbnail:t.thumbnail,tags:t.videoTagsArray,reactAlertIsDismissed:t.reactAlertIsDismissed,isLoaded:!0};case o.d:return{...e,duration:t.value};case o.g:return{...e,notFamilyFriendly:!e.notFamilyFriendly};case o.f:return{...e,thumbnail:t.thumbnailUrl};case o.a:return{...e,thumbnail:""};case o.e:return{...e,tags:t.videoTagsArray};case o.b:return{...e,reactAlertIsDismissed:!0};default:return e}}},function(e,t){e.exports=window.wp.hooks},function(e,t){e.exports=window.wp.compose},function(e,t,n){"use strict";var o=n(12);function i(){}function r(){}r.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,r,a){if(a!==o){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";n.r(t);var o={};n.r(o),n.d(o,"VIDEO_LOAD_EDITOR_DATA",function(){return l.c}),n.d(o,"VIDEO_SET_DURATION",function(){return l.d}),n.d(o,"VIDEO_TOGGLE_NOT_FAMILY_FRIENDLY",function(){return l.g}),n.d(o,"VIDEO_SET_THUMBNAIL",function(){return l.f}),n.d(o,"VIDEO_CLEAR_THUMBNAIL",function(){return l.a}),n.d(o,"VIDEO_SET_TAGS",function(){return l.e}),n.d(o,"VIDEO_DISMISS_ALERT",function(){return l.b}),n.d(o,"loadVideoEditorData",function(){return l.j}),n.d(o,"setDuration",function(){return l.k}),n.d(o,"toggleNotFamilyFriendly",function(){return l.n}),n.d(o,"setVideoThumbnail",function(){return l.m}),n.d(o,"clearVideoThumbnail",function(){return l.h}),n.d(o,"setVideoTags",function(){return l.l}),n.d(o,"dismissAlert",function(){return l.i});var i={};n.r(i),n.d(i,"getDuration",function(){return p}),n.d(i,"getNotFamilyFriendly",function(){return y}),n.d(i,"getVideoThumbnail",function(){return f}),n.d(i,"getVideoTags",function(){return g}),n.d(i,"getReactAlertIsDismissed",function(){return b});var r=n(5),a=n(9),s=n(2),l=n(3),d=n(8);const{default:u}=n(8);var c={editor:d.default},m=n(6);function p(e){return Object(m.get)(e,"editor.duration",0)}function y(e){return Object(m.get)(e,"editor.notFamilyFriendly",!1)}function f(e){return Object(m.get)(e,"editor.thumbnail","")}function g(e){return Object(m.get)(e,"editor.tags",[])}function b(e){return Object(m.get)(e,"editor.reactAlertIsDismissed",!0)}function E(){return Object(s.registerStore)("yoast-seo-video/editor",{reducer:Object(s.combineReducers)(c),actions:o,selectors:i})}var w=n(7),h=n(10),v=n(4),_=n(1),O=n(0),I=n.n(O);function T(e){const t=Object(r.useCallback)(()=>{"blockEditor"===e.editorType?(Object(s.dispatch)("core/interface").enableComplementaryArea("core/edit-post","yoast-seo/seo-sidebar"),Object(s.dispatch)("yoast-seo/editor").openEditorModal("yoast-google-preview-modal")):"elementorEditor"===e.editorType?Object(s.dispatch)("yoast-seo/editor").openEditorModal("yoast-google-preview-modal"):function(){document.getElementById("wpseo-meta-tab-content").click();const e=document.querySelector("#yoast-snippet-editor-metabox .yoast-svg-icon-chevron-down");e&&e.parentElement.click()}()},[e.editorType]);return wp.element.createElement(v.FieldGroup,{label:Object(_.__)("Title and description","yoast-video-seo"),description:Object(_.__)("Your video will use the same SEO title and meta description you enter in our Google Preview editor.","yoast-video-seo")},wp.element.createElement(v.NewButton,{variant:"secondary",onClick:t},Object(_.__)("Open Google Preview editor","yoast-video-seo")))}T.propTypes={editorType:I.a.string.isRequired};const{location:{LocationConsumer:F}}=window.yoast.editorModules.components.contexts,{setTextdomainL10n:D}=window.yoast.editorModules.helpers.i18n,S=window.yoast.editorModules.containers.PersistentDismissableAlert;D("yoast-video-seo","wpseoVideoL10n");const j=e=>Object(r.createInterpolateElement)(Object(_.sprintf)(Object(_.__)("To learn more, read the %sYoast SEO Video configuration guide.%s","yoast-video-seo"),"<a>","</a>"),{a:wp.element.createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer"})});function V(e){return Object(r.useEffect)(()=>{e.onLoad()},[]),wpseoVideoL10n.has_video?wp.element.createElement(F,null,t=>wp.element.createElement("div",{className:"yoast"},wp.element.createElement(S,{type:"info",alertKey:"video-editor-reactification-alert"},Object(_.__)("We've made some changes to Yoast SEO Video.","yoast-video-seo")+" ",wp.element.createElement("a",{href:wpseoVideoL10n["shortlinks.video_changes"],target:"_blank",rel:"noopener noreferrer"},Object(_.__)("Learn more about what has changed.","yoast-video-seo"))),wp.element.createElement("p",null,Object(_.__)("Edit the Schema information below to optimize your video for search engines. ","yoast-video-seo"),wpseoVideoL10n["shortlinks.configuration_guide"]&&j(wpseoVideoL10n["shortlinks.configuration_guide"])),wp.element.createElement(v.ImageSelect,{label:Object(_.__)("Video thumbnail","yoast-video-seo"),hasPreview:!0,imageUrl:e.thumbnail,defaultImageUrl:e.defaultThumbnail,onClick:e.onSelectImageClick,onRemoveImageClick:e.onRemoveImageClick}),wp.element.createElement(T,{editorType:e.editorType}),wp.element.createElement(v.DurationInput,{label:Object(_.__)("Duration","yoast-video-seo"),id:t+"-duration-input",duration:e.duration,onChange:e.setDuration}),wp.element.createElement(v.FieldGroup,{label:Object(_.__)("Tags","yoast-video-seo")},wp.element.createElement(w.FormTokenField,{label:"",value:e.tags,onChange:e.setVideoTags})),wp.element.createElement("p",{className:"field-group-description"},Object(_.__)("If this video should not be available for safe search users, check this box.","yoast-video-seo")),wp.element.createElement(v.Checkbox,{id:`video-family-friendly-checkbox-${t}`,label:Object(_.__)("Mark this video as not family friendly","yoast-video-seo"),checked:e.notFamilyFriendly,onChange:e.toggleNotFamilyFriendly}))):wp.element.createElement("p",null,Object(_.__)("It looks like your content does not yet contain a video. Please add a video and save your draft in order for Video SEO to work.","yoast-video-seo"))}V.propTypes={onLoad:I.a.func.isRequired,editorType:I.a.string.isRequired,thumbnail:I.a.string.isRequired,defaultThumbnail:I.a.string.isRequired,onSelectImageClick:I.a.func.isRequired,onRemoveImageClick:I.a.func.isRequired,duration:I.a.number.isRequired,setDuration:I.a.func.isRequired,tags:I.a.array.isRequired,setVideoTags:I.a.func.isRequired,notFamilyFriendly:I.a.bool.isRequired,toggleNotFamilyFriendly:I.a.func.isRequired};let A=null;const k=()=>(A||(A=window.wp.media()).on("select",()=>{const e=A.state().get("selection").first();Object(s.dispatch)("yoast-seo-video/editor").setVideoThumbnail(e.attributes.url)}),A).open();var L=Object(h.compose)([Object(s.withSelect)(e=>{const{getDuration:t,getNotFamilyFriendly:n,getVideoThumbnail:o,getVideoTags:i,getReactAlertIsDismissed:r}=e("yoast-seo-video/editor"),{getEditorType:a}=e("yoast-seo/editor");return{duration:t(),notFamilyFriendly:n(),thumbnail:o(),defaultThumbnail:wpseoVideoL10n.default_thumbnail||"",editorType:a(),tags:i(),reactAlertIsDismissed:r()}}),Object(s.withDispatch)(e=>{const{loadVideoEditorData:t,setDuration:n,toggleNotFamilyFriendly:o,clearVideoThumbnail:i,setVideoTags:r,dismissAlert:a}=e("yoast-seo-video/editor");return{onLoad:t,onSelectImageClick:k,onRemoveImageClick:i,setVideoTags:r,setDuration:n,toggleNotFamilyFriendly:o,dismissAlert:a}})])(V);const{SidebarItem:R,SidebarCollapsible:x}=window.yoast.editorModules.components;function N(e){const t=e.fillName?e.fillName:"YoastSidebar";return wp.element.createElement(w.Fill,{name:t},wp.element.createElement(R,{key:"video",renderPriority:33},wp.element.createElement(x,{title:"Video"},wp.element.createElement(L,null))))}N.propTypes={fillName:I.a.string},N.defaultProps={fillName:""};const{location:{LocationProvider:C}}=window.yoast.editorModules.components.contexts;function M(){return"undefined"!=typeof YoastSEO&&void 0!==YoastSEO.analysis&&void 0!==YoastSEO.analysis.worker}function P(){window.YoastSEO._registerReactComponent("yoast-seo-video",()=>wp.element.createElement(N,{fillName:"YoastElementor"}))}function Y(){M()&&YoastSEO.analysis.worker.loadScript(wpseoVideoL10n.script_url).then(()=>YoastSEO.analysis.worker.sendMessage("initialize",wpseoVideoL10n,"YoastVideoSEO"))}"1"===wpseoVideoL10n.has_video&&(M()?Y():jQuery(window).on("YoastSEO:ready",Y)),jQuery(window).on("elementor:init",()=>{window.elementor.on("panel:init",()=>{E()}),Object(a.addAction)("yoast.elementor.loaded","yoast/yoast-video-seo/load-video-in-elementor",P)}),jQuery(window).on("YoastSEO:ready",()=>{E(),function(){if(wpseoScriptData.isBlockEditor){const{registerPlugin:e}=wp.plugins;e("yoast-seo-video",{render:N})}Object(r.render)(wp.element.createElement(C,{value:"metabox"},wp.element.createElement(L,null)),document.getElementById("wpseo-video-react-metabox-root"))}()})}]);